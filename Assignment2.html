<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <title>Fixed Map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <!--    1.1.  Include the reference to the Mapbox JavaScript here in the <head> of the page  -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.js'></script>
    <!--    1.2 Include the reference to the Mapbox CSS here in the <head> of the page  -->
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v3.2.0/mapbox-gl.css' rel='stylesheet' />

    <style>
        /* 1.4 Insert the CSS code here between the <style> tags */
        body { margin:50px; padding:0; }
        #map1 { position:relative; height:300px; width:100%; }
        #map2 { position:relative; height:300px; width:100%; }
        #map3 { position:relative; height:300px; width:100%; }
        /* 2.5.2 Insert additional CSS code here between the <style> tags */

    </style>
  </head>

  <body>
        <!-- 1.3 Insert the div for the structure of the page here in the <body> of the page -->
          <h1>My Study Abroad Adventures</h1>
          <h2>Map 1: China</h2>
          <div id = 'map1'></div>
            <p id="paragraph1">
              In 5th grade, as part of the Chinese immersion program I was in, we had a capstone trip to Suzhou China at the end of the year. 
              We stayed with host families for two weeks where I went to the local primary school with my host brother. During my time there, 
              I learned a lot about Chinese culture and lifestyles while practicing communicating with locals in Chinese. The part of this trip
              that surprised me the most was how in school, they had breaks where teachers led students in eye and temple massages. Turns out, in 
              they do this everyday to improve eye health and prevent myopia. Another thing that has left a lasting imprint on me was the family 
              dynamics of my host family. First of all, four generations lived in the house I stayed at which isn't uncommon, but must surprisingly, 
              the parents had two kids. At the time I visited, China was strictly enforcing their One Child Policy which meant it was illegal to 
              have more than one kid. My host parents secretly had a second kid, who they had a family friend pretend to be the mother to not get in
              trouble. It was really eye-opening to see the lengths they went to in order to protect their kid.  
              </p>
          <hr>
          <h2>Map 2: Chile</h2>
            <div id = 'map2'></div>
            <p id="paragraph2">
              During middle school, I started learning Spanish and in 8th grade, I went on a class trip to Temuco, Chile where we spent a week attending
              a local middle school and a week touring around the country. It was fascinating to see how different their schools were from the ones I grew
              up going to in Portland. First of all, it is common for all schools to be K-12th grade. Also, starting in 6th grade, students must take turns
              cooking, cleaning, and serving food in the cafeteria. Finally, students have a fitness class every day and must participate in an extracurricular activity.
              It seemed that students were much closer to each other and there was a greater sense of community as a result of these differences. It made me wonder why 
              schools in the US were so different. 

              </p>
          <hr>
          <h2>Map 3: Spain</h2>
            <div id = 'map3'></div>
            <p id="paragraph3">
              Two summers ago, I went to Barcelona for three weeks with 40 other high school students from the US to learn Spanish. It was a lot of fun to
              practice my Spanish skills by ordering food at restaurants and learning about Spain's rich history at museums. Very often, locals would try to speak English 
              to us since we were in such a touristy part of Spain. It was awkward telling them that I wanted them to speak to me in Spanish so I could practice. This angered some but others 
              were supportive. It was the first time I had visited somewhere were I was met with some unfriendliness from locals.
              </p>

        <script>
            /* Insert the JavaScript within the <script> tags, within the body */
            // 2.1 Start with the Mapbox access token
              mapboxgl.accessToken = 'pk.eyJ1IjoiYXR0aWN1c3RvbmciLCJhIjoiY2x1bGhrY2V5MTN0eDJrbnowZnlrb3JlbiJ9.F1nE5baywAQSkGXZMLPkuw';

            // 2.2 Then initialize the first map
              var map = new mapboxgl.Map({
                container: 'map1',
                style: 'mapbox://styles/mapbox/streets-v12',
                center: [120.56894443004091, 31.502593277001773],
                zoom: 8
              });

            // 2.3 Add any other variables (such as popups and markers) to the first map
              var popup = new mapboxgl.Popup()
                      .setText('This is the city I lived in with a host family for 2 weeks.');

                  var marker = new mapboxgl.Marker({color:'red'})
                    .setLngLat([120.57687103715949, 31.33195544455967])
                    .setPopup(popup)
		                .addTo(map);

            // 2.4 Add arguments to disable the map interactivity here
            // Disable drag and zoom handlers.
              map.dragPan.disable();
              map.scrollZoom.disable();
              map.boxZoom.disable();
              map.dragRotate.disable();
              map.keyboard.disable();
              map.doubleClickZoom.disable();
              map.touchZoomRotate.disable();
              map.touchZoomRotate.disableRotation();

            // 2.5.3 Then initialize the 2nd map
              var map2 = new mapboxgl.Map({
                container: 'map2',
                style: 'mapbox://styles/mapbox/streets-v12',
                center: [-72.59339576402122, -38.743243908009106],
                zoom: 12
              });

            // 2.5.4 Add any other variables (such as markers) to the second map
        var popup2 = new mapboxgl.Popup()
         .setText('This is the location of the school I went to in Temuco.');

         var marker2 = new mapboxgl.Marker({color:'blue'})
           .setLngLat([-72.63599033603025, -38.7411658303305]) 
           .setPopup(popup2) 
           .addTo(map2); 

            // 2.5.5 Add arguments to disable the second map's interactivity here
              map2.dragPan.disable();
              map2.scrollZoom.disable();
              map2.boxZoom.disable();
              map2.dragRotate.disable();
              map2.keyboard.disable();
              map2.doubleClickZoom.disable();
              map2.touchZoomRotate.disable();
              map2.touchZoomRotate.disableRotation();

              var map3 = new mapboxgl.Map({
                container: 'map3',
                style: 'mapbox://styles/mapbox/streets-v12',
                center: [2.1821124251819435, 41.39205001219578],
                zoom: 11
              });

              var popup3 = new mapboxgl.Popup()
         .setText('This is the part of Barcelona I stayed in.');

         var marker3 = new mapboxgl.Marker({color:'green'})
           .setLngLat([2.1821124251819435, 41.39205001219578]) 
           .setPopup(popup3) 
           .addTo(map3);

              map3.dragPan.disable();
              map3.scrollZoom.disable();
              map3.boxZoom.disable();
              map3.dragRotate.disable();
              map3.keyboard.disable();
              map3.doubleClickZoom.disable();
              map3.touchZoomRotate.disable();
              map3.touchZoomRotate.disableRotation();

            // 2.6 Change the map pointers
              map.getCanvas().style.cursor = 'auto';
	            map2.getCanvas().style.cursor = 'auto';
              map3.getCanvas().style.cursor = 'auto';

        </script>
  </body>
</html>
